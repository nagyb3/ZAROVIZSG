```
Adatbázisrendszerek. Adatbázis, adatbázisrendszer, adatbázis-kezelő rendszer (DBMS) fogalma és jellemzői.
Egyed, tulajdonság és kapcsolat fogalma és tulajdonságai.
Relációs, objektum-relációs és NoSQL adatbázisok jellemzése.
A funkcionális függés fogalma.
Koncepcionális adatbázis-tervezés, az ER modell és leképezése relációs modellre. Az SQL elemei: DDL, DML, DCL, egyszerű lekérdezések és táblák összekapcsolása.
```

https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/1_alapfogalmak.pdf

## Adatbázis:
naív definíciók:
- egymással logikailag összefüggő, egymáshoz kapcsolódó, belső jelentéssel bíró adatok összessége
- speciális célra tervezett, felépített és közzétett adatok együttese
tényleges definíció:
- adatmodell + egyed előfordulások + tulajdonság előfordulások + kapcsolat előfordulások

Adat:
olyan ismert tény, amely számszerűsíthető és implicit (magától értetődő) jelentése van

Kisvilág:
a valós világ egy része, amelyről az adatbázis az adatokat tárolja

## Adatbázis-kezelő rendszer (DBMS)
olyan szoftvercsomag, amely számítógépes adatbázisok létrehozását és karbantartását támogatja
- feladatai:
	- konkrét adatbázis definiálása
	- kezdeti adatb tartalom betöltése
	- adatbázis kezelése (adatok kinyerése + módosítása)

(modellezés lépései stb)
## Adatbázis rendszer
DBMS + adatok (néha az alkalmazást is beleértjük)

### Egyed (előfordulás)
a valós világnak az az eleme, amely a modellezés tárgyát képezi
(Pl Kovács Péter második éves PTI hallgató)

### Tulajdonság (előfordulás)
az egyednek a modellezés szempontjából lényeges jellemzője
(Kovács péter neve, második évfolyam)
TODO tulajdonságok

### Kapcsolat (előfordulás)
Kettő vagy több egyed között meghatározott viszony

### Tulajdonságtípus
Azonos szerepő tulajdonságok absztrakciója
(pl hallgató neve, évfolyama, szakja)
- null érték értelmezett-e?
- származtatott érték-e?
- egyszerű/összetett érték

### Egyedtípus
Azonos tulajdonságtípusokkal rendelkező egyedek absztrakciója
(pl hallgató)

### Kapcsolat (előfordulás)
két vagy több egyedtípus egyedei között fennálló viszony

### Kapcsolattípus:
két vagy több jól meghatározott egyedttípus közötti viszony
(pl hallgató és tárgy közötti felvétel viszony)

osztályozás:
- kapcsolat foka
	- bináris
		- 1:1
		- 1:N
		- 1:M
	- ternáris
	- többedfok

Bachmann-féle fogalomrendszer:
![[Pasted image 20250216065545.png]]

# Relációs, objektum-relációs és NoSQL adatbázisok jellemzése

### **Relációs**:
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/3_relaciosmodell.pdf

### objektum-relációs adatbázis (ORDBMS): tradícionális RDBMS rendszerek OO szemlélettel való kibővítése
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/11_objektum_relacios.pdf

Olyan adatmodell, amelyben az adatokat objektumokként és osztályokként tároljuk.

Minden objektum rendelkezik egy OID azonosítóval

UDT (User defined types):
-> relációs adatbázisokban lehetőséget adnak arra, hogy objektum orientált alapelveket alkalmazzunk?

OO adatbázisok létrehozásának okai:
- igény komplex adatbázis alkalmazások iránt

### **NoSQL** adatbázisok
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/12_noSQL.pdf
(not only sql)

A NoSql adatbázisok általában elosztott rendszereknek minősülnek, mivel képesek vagyunk őket horizontálisan skálázni.
![[Pasted image 20250521110101.png]]

**CAP-tétel**: egy elosztott rendszer a következő 3 közül csak 2-vel rendelkezhet (? miért)
- **konzinsztencia** (consistency): minden csomópont egy adott pillanatban ugyanazt az adatot látja
- **rendelkezésre állás** (availability): minden kérésre érkezik válasz, hogy a kérés végrehajtása sikeres-e vagy sikertelen
- **partíciónálástűrése** (partition tolerance): a rendszer egy tetszőleges üzenet elvesztése vagy a rendszer egy részének hibája esetén is tovább működik pl hálózati hiba

Lehetőségek:
- elhagyni a partiocionálástűrést: rakjunk mindent egy gépre -> skálázhatósági problémát okoz
- elhagyni a rendelkezésre állást: egy esemény bekövetkezésekor az adott szolgálgatások megvárják, hogy az adatok konzisztenciája helyreálljon, ezalat elérhetetlenné válnak
- elhagyni a konzisztenciát: ("valóságban is sokszor így van")

konzisztenciafajtái:
- kliens oldali: ahogyan megfigyeljük a rendszert
- szerver oldali: hogyan áramlanak a módosítások a rendszeren keresztül

*A relációs modellek az ACID-ot követik, de a NoSQL adatbázisok a BASE-t követik inkább, mivel egy egy reláxáltabb verzió amit képesek biztosítani az elosztott rendszereken, amelyek horizontálisan vannak skálázva.*

ACID vs BASE
- ACID: Atomicity, Consistency, Isolation, Durability
	- erős konzisztencia
	- konzervatív ütemezés
	- bonyolult séma evolúció
	- középpontban a commit
- BASE: Basically Available, Soft-state, Eventually Consistent
	- egyszerűbb és gyorsabb
	- esetleges konzisztencia
	- agresszív (optimista) ütemezés
	- könnyebb evolúció
	- körülbelüli válaszok elegendőek

megj: eventual consistency-re példa a dns szolgáltató globális rendszere.

NOSQL adatmodellek:
- **kulcs-érték modell**: (k, v) párok együttese, ahol k kulcs és v pedig egy érték -> van rendezett kulcs-érték modell iss
	- pl Redis
	- KVS: key-value store
	- ezen az elven felépülő adattárak egyszerű hashtáblák
	- => skálázhatóságuk sharding-al (particionálás) történhet meg, amely során az adatbázist horizontálisan szét osztjuk
- **oszlopcsalád/bigtable modell**: értékek mint map-of-maps-of-maps modellezi, oszlopcsaládok, oszlopok és időbélyeggel ellátott verziók segítségével
	- pl CassandraDB
![[Pasted image 20250521135838.png]]
- **dokumentum modell**: sémák tetszőleges bonyolultságúak lehetnek (nem csak map-of-maps), adatbázis által kezelt indexek is megjelennek ???
	- a dokumentumokat kollekciókba rendezzük
	- pl MongoDB
	- sharding-ot itt is alkalmazhatunk
- **gráf modell**: csúcsok egy egyedet jelölnek a tulajdonságaikkal együtt. az irányított gráf ezen egyedek közötti kapcsolatot jelöli. pl ismerősök
	- horizontális skálázása probléma (mivel mindenhol szükségünk lenne az összes gráfra)
	- pl Neo4J
	- pl probléma közösségi háló ismerősök

# Funkcionális függés fogalma:
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/5_funkcionalisfugges.pdf
naiv: 
X és Y egy relációsséma attribútumainak a halmaza
-> Egy relációs sémában X akkor és csak akkor határozza meg funkcionalisan Y-t, ha valahányszor r(R) (relációsséma) két rekordja megegyezik az X értékeken, szükségszerűen megegyezik Y értékeken is.
![[Pasted image 20250421182014.png]]
![[Pasted image 20250421182027.png]]
![[Pasted image 20250421182039.png]]

Reflexivitás, Augmentivitás és tranzitivitás => *Armstrong axiómák*
### Koncepcionális adatbázis-tervezés

# ER modell leképzése relációs modellre
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/6_ermodell.pdf

Néhány fontosabb fogalom ide:
- erős egyedtípus: olyan egyedtípus, amelynek van kulcsa
- gyenge egyedtípus: olyan egyedtípus, amelynek nincsen kulcsa.

![[Pasted image 20250421182058.png]]
![[Pasted image 20250421182105.png]]

# SQL elemei:
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/2_adatbazis.pdf
##  DDL (data definition language) (adatleíró nyelv)
- koncepcionális séma meghatározására használatos
- belső és külső sémák (kinézetek meghatározására használják az adatbázis tervezők és adminisztrátorok

megj:
- belső és külső lehet külön is néhány DBMS-ben:
	- SDL (storage definition language): belső
	- VDL: (view definition language): külső

## DML (data manipulation language) (adatmanipulációs nyelv)
- adatbázisból való keresést és manipulációt leírják
- `insert`, `update`, `delete` műveletek

megj:
- DML-ek átalános célú programozási nyelvek szintjén is elérhetőek -> DBMS interfészek (ezek nem ORM-ek!!)
	- alternativ módon: önálló DBMS utasítások
(SQL: magas szintű nem-procedurális (-> deklaratív nyelv) : azt mondja meg hogy mit keresünnk és nem azt, hogy hogyan keressük azt a valamit)

## DCL : data control language
-> adatbázis hozzáférés jogosultságait szabályozó nyelv
-> keywords:  `grant`, `revoke`
-> továbbá pl oracle adatbázisoknál: tranzakció kezelés:
- commit
- rollback

## egyszerű lekérdezések
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/4_lekerdezonyelv.pdf
szelekció:
![[Pasted image 20250421182404.png]]s

projekció:
![[Pasted image 20250421182437.png]]

átnevezés:
![[Pasted image 20250421182516.png]]

# Táblák összekapcsolása
descartes szorzat => inner join
![[Pasted image 20250421182953.png]]

általános:
![[Pasted image 20250421183028.png]]
![[Pasted image 20250421183053.png]]

természetes összekapcsolás: natural join
![[Pasted image 20250421183236.png]]

left outer join

right outer join
```
Adatbázisrendszerek. Adatbázis, adatbázisrendszer, adatbázis-kezelő rendszer (DBMS) fogalma és jellemzői.
Egyed, tulajdonság és kapcsolat fogalma és tulajdonságai.
Relációs, objektum-relációs és NoSQL adatbázisok jellemzése.
A funkcionális függés fogalma.
Koncepcionális adatbázis-tervezés, az ER modell és leképezése relációs modellre. Az SQL elemei: DDL, DML, DCL, egyszerű lekérdezések és táblák összekapcsolása.
```

https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/1_alapfogalmak.pdf

## Adatbázis:
naív definíciók:
- egymással logikailag összefüggő, egymáshoz kapcsolódó, belső jelentéssel bíró adatok összessége
- speciális célra tervezett, felépített és közzétett adatok együttese
tényleges definíció:
- adatmodell + egyed előfordulások + tulajdonság előfordulások + kapcsolat előfordulások

Adat:
olyan ismert tény, amely számszerűsíthető és implicit (magától értetődő) jelentése van

Kisvilág:
a valós világ egy része, amelyről az adatbázis az adatokat tárolja

## Adatbázis-kezelő rendszer (DBMS)
olyan szoftvercsomag, amely számítógépes adatbázisok létrehozását és karbantartását támogatja
- feladatai:
	- konkrét adatbázis definiálása
	- kezdeti adatb tartalom betöltése
	- adatbázis kezelése (adatok kinyerése + módosítása)

(modellezés lépései stb)
## Adatbázis rendszer
DBMS + adatok (néha az alkalmazást is beleértjük)

### Egyed
a valós világnak az az eleme, amely a modellezés tárgyát képezi
(Pl Kovács Péter második éves PTI hallgató)
### Tulajdonság
az egyednek a modellezés szempontjából lényeges jellemzője
(Kovács péter neve, második évfolyam)
TODO tulajdonságok
### Tulajdonságtípus
Azonos szerepő tulajdonságok absztrakciója
(pl hallgató neve, évfolyama, szakja)
TODO tulajdonságok
### Egyedtípus
Azonos tulajdonságtípusokkal rendelkező egyedek absztrakciója
(pl hallgató)
TODO tulajdonságok
### Kapcsolattípus:
két vagy több jól meghatározott egyedttípus közötti viszony
(pl hallgató és tárgy közötti felvétel viszony)
TODO tulajdonságok
### Kapcsolat
két vagy több egyedtípus egyedei között fennálló viszony

![[Pasted image 20250216065545.png]]

# Relációs, objektum-relációs és NoSQL adatbázisok jellemzése

### **Relációs**:
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/3_relaciosmodell.pdf

### objektum-relációs adatbázis (ORDBMS): tradícionális RDBMS rendszerek OO szemlélettel való kibővítése
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/11_objektum_relacios.pdf

### **NoSql**
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/12_noSQL.pdf

A NoSql adatbázisok általában elosztott rendszereknek minősülnek. Ezeket az adatbázisokat 
vízszintesen skálázzuk.
![[Pasted image 20250521110101.png]]

**CAP-tétel**: egy elosztott rendszer a következő 3 közül csak 2-vel rendelkezhet (? miért)
- **konzinsztencia** (consistency): minden csomópont egy adott pillanatban ugyanazt az adatot látja
- **rendelkezésre állás** (availability): minden kérésre érkezik válasz, hogy a kérés végrehajtása sikeres-e vagy sikertelen
- **partíciónálástűrése** (partition tolerance): a rendszer egy tetszőleges üzenet elvesztése vagy a rendszer egy részének hibája esetén is tovább működik pl hálózati hiba

Lehetőségek:
- elhagyni a partiocionálástűrést: rakjunk mindent egy gépre -> skálázhatósági problémát okoz
- elhagyni a rendelkezésre állást: egy esemény bekövetkezésekor az adott szolgálgatások megvárják, hogy az adatok konzisztenciája helyreálljon, ezalat elérhetetlenné válnak
- elhagyni a konzisztenciát: ("valóságban is sokszor így van")

konzisztenciafajtái:
- kliens oldali: ahogyan megfigyeljük a rendszert
- szerver oldali: hogyan áramlanak a módosítások a rendszeren keresztül

*A relációs modellek az ACID-ot követik, de a NoSQL adatbázisok a BASE-t követik inkább, mivel egy egy reláxáltabb verzió amit képesek biztosítani az elosztott rendszereken, amelyek horizontálisan vannak skálázva.*

ACID vs BASE
- ACID: Atomicity, Consistency, Isolation, Durability
	- erős konzisztencia
	- konzervatív ütemezés
	- bonyolult séma evolúció
	- középpontban a commit
- BASE: Basically Available, Soft-state, Eventually Consistent
	- egyszerűbb és gyorsabb
	- esetleges konzisztencia
	- agresszív (optimista) ütemezés
	- könnyebb evolúció
	- körülbelüli válaszok elegendőek

NOSQL adatmodellek:
- **kulcs-érték modell**: (k, v) párok együttese, ahol k kulcs és v pedig egy érték -> van rendezett kulcs-érték modell is
	- pl Redis
- **oszlopcsalád/bigtable modell**: értékek mint map-of-maps-of-maps modellezi, oszlopcsaládok, oszlopok és időbélyeggel ellátott verziók segítségével
	- pl CassandraDB
- **dokumentum modell**: sémák tetszőleges bonyolultságúak lehetnek (nem csak map-of-maps), adatbázis által kezelt indexek is megjelennek
	- pl MongoDB
- **gráf modell**: a rendezett kulcs-érték modellből származó oldalág, egyedek transzparens modellezése (pl függőség)
	- pl Neo4J

# Funkcionális függés fogalma:
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/5_funkcionalisfugges.pdf
naiv: 
X és Y egy relációsséma attribútumainak a halmaza
-> Egy relációs sémában X akkor és csak akkor határozza meg funkcionalisan Y-t, ha valahányszor r(R) (relációsséma) két rekordja megegyezik az X értékeken, szükségszerűen megegyezik Y értékeken is.
![[Pasted image 20250421182014.png]]
![[Pasted image 20250421182027.png]]
![[Pasted image 20250421182039.png]]

### Koncepcionális adatbázis-tervezés
TODO

# ER modell leképzése relációs modellre
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/6_ermodell.pdf

Néhány fontosabb fogalom ide:
- erős egyedtípus: olyan egyedtípus, amelynek van kulcsa
- gyenge egyedtípus: olyan egyedtípus, amelynek nincsen kulcsa.

![[Pasted image 20250421182058.png]]
![[Pasted image 20250421182105.png]]

# SQL elemei:
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/2_adatbazis.pdf
##  DDL (data definition language) (adatleíró nyelv)
- koncepcionális séma meghatározására használatos
- belső és külső sémák (kinézetek meghatározására használják az adatbázis tervezők és adminisztrátorok

megj:
- belső és külső lehet külön is néhány DBMS-ben:
	- SDL (storage definition language): belső
	- VDL: (view definition language): külső

## DML (data manipulation language) (adatmanipulációs nyelv)
- adatbázisból való keresést és manipulációt leírják
- `insert`, `update`, `delete` műveletek

megj:
- DML-ek átalános célú programozási nyelvek szintjén is elérhetőek -> DBMS interfészek (ezek nem ORM-ek!!)
	- alternativ módon: önálló DBMS utasítások
(SQL: magas szintű nem-procedurális (-> deklaratív nyelv) : azt mondja meg hogy mit keresünnk és nem azt, hogy hogyan keressük azt a valamit)

## DCL : data control language
-> adatbázis hozzáférés jogosultságait szabályozó nyelv
-> keywords:  `grant`, `revoke`
-> továbbá pl oracle adatbázisoknál: tranzakció kezelés:
- commit
- rollback

## egyszerű lekérdezések
https://arato.inf.unideb.hu/ispany.marton/Database/Lectures2024/4_lekerdezonyelv.pdf
szelekció:
![[Pasted image 20250421182404.png]]s

projekció:
![[Pasted image 20250421182437.png]]

átnevezés:
![[Pasted image 20250421182516.png]]

## táblák összekapcsolása
descartes szorzat
![[Pasted image 20250421182953.png]]

általános???
![[Pasted image 20250421183028.png]]
![[Pasted image 20250421183053.png]]

természetes összekapcsolás
![[Pasted image 20250421183236.png]]